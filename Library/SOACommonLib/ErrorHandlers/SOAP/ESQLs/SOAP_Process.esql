BROKER SCHEMA ErrorHandlers.SOAP.ESQLs
DECLARE ns79 NAMESPACE 'http://tempuri.org/';
DECLARE soa NAMESPACE 'http://www.pjico.com.vn/common/envelope/soaenvelope/1';
CREATE COMPUTE MODULE SOAP_Process
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		SET OutputRoot = InputRoot;
		DELETE FIELD OutputRoot.SOAP;
		IF InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.CREATE_SURVER_SHORTURLResult IS NOT NULL THEN
			DECLARE CLM_SYS_ID CHARACTER InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.CLM_SYS_ID;
			DECLARE ERROR_MESSAGE CHARACTER  InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.ERROR_MESSAGE;
			DECLARE SHORT_URL CHARACTER InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.SHORT_URL;
			SET OutputRoot.XMLNSC.ns79:CREATE_SURVER_SHORTURLResponse.CREATE_SURVER_SHORTURLResult = InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.CREATE_SURVER_SHORTURLResult;
			SET OutputRoot.XMLNSC.ns79:CREATE_SURVER_SHORTURLResponse.CLM_SYS_ID = InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.CLM_SYS_ID;
			SET OutputRoot.XMLNSC.ns79:CREATE_SURVER_SHORTURLResponse.ERROR_MESSAGE = InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.ERROR_MESSAGE;
			SET OutputRoot.XMLNSC.ns79:CREATE_SURVER_SHORTURLResponse.SHORT_URL = InputRoot.SOAP.Body.ns79:CREATE_SURVER_SHORTURLResponse.SHORT_URL;
			
		ELSEIF InputRoot.SOAP.Body.ns79:GET_VCXECG_CHARGE_JSONResponse.ns79:GET_VCXECG_CHARGE_JSONResult IS NOT NULL THEN
--			DECLARE GET_VCXECG_CHARGE_JSONResult CHARACTER InputRoot.SOAP.Body.ns79:GET_VCXECG_CHARGE_JSONResponse.ns79:GET_VCXECG_CHARGE_JSONResult;
			SET OutputRoot.XMLNSC.ns79:GET_VCXECG_CHARGE_JSONResponse.ns79:GET_VCXECG_CHARGE_JSONResult = InputRoot.SOAP.Body.ns79:GET_VCXECG_CHARGE_JSONResponse.ns79:GET_VCXECG_CHARGE_JSONResult;
		ELSEIF InputRoot.SOAP.Body.ns79:GET_POINT_TNDS_JSONResponse.ns79:GET_POINT_TNDS_JSONResult IS NOT NULL THEN
			SET OutputRoot.XMLNSC.ns79:GET_POINT_TNDS_JSONResponse.ns79:GET_POINT_TNDS_JSONResult = InputRoot.SOAP.Body.ns79:GET_POINT_TNDS_JSONResponse.ns79:GET_POINT_TNDS_JSONResult;
		ELSE
			SET OutputRoot.XMLNSC.* = InputRoot.SOAP.Body.*;
		END IF;
		
		SET Environment.Variables.ServiceCallout.Status = '0';	
		SET Environment.Variables.ServiceCallout.ResponseDetail.ResponseData = InputRoot.SOAP.Body.*;

		RETURN TRUE;
	END;
	
END MODULE;